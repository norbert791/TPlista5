-use aop to handle database events in lobby
-refactor databases